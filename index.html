<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
    <title>Random Quote Machine</title>
    <!-- window.onload event is executed when the entire webpage has finished loading, it is for debugging purposes - to verify that that JS code has loaded successfully -->
    <script>
        window.onload = init;
        function init() {
            generateQuote();
        }

        function generateQuote() {
            console.log("Quote generated")
            let quoteSize = QUOTEBANK.length;
            let randomIndex = Math.floor(Math.random() * quoteSize);
            // Math.random() will randomly generate a number between 0 and 1 (not including 0 and 1), 
            // so when multiply by quoteSize, it will randomly generate a number between 0 and the number of quotes in the quoteBank
            // math.floor() round down the decimals, so now will get a random integer between 0 and (quoteSize - 1), which would be the largest
            // index for the quoteBank
            let randomQuoteData = QUOTEBANK[randomIndex];

            // breaking down the twitter link got from the example to 3 parts 
            let twitterLink = "https://twitter.com/intent/tweet?hashtags=quotes&related=freecodecamp&text=";
            
            // replace the space with %20 (because of weird format reason in the original link)
            let quoteInApiFormat = randomQuoteData.quote.replace(/ /g, "%20");
            let authorInApiFOrmat = randomQuoteData.author.replace(/ /g, "%20");
            // add the quote
            twitterLink += quoteInApiFormat;
            
            // add the author 
            twitterLink += " - " + authorInApiFOrmat; 
        
            // let quoteInApiFormat = encodeURIComponent(randomQuoteData.quote);
            // let authorInApiFOrmat = encodeURIComponent(randomQuoteData.author);
            // twitterLink += quoteInApiFormat + " - " + authorInApiFOrmat;

            // document is all the things in the <body>
            // the getElementByID method is a built-in function in JS that searches the HTML document for an element with a specific ID and returns the element
            document.getElementById("text").innerText = randomQuoteData.quote; 
            document.getElementById("author").innerText = randomQuoteData.author;
            document.getElementById("tweet-quote").href = twitterLink; 
            
       }
    
    //  set quoteBank to an array with [], inside it are objects with key-value in quote-author 
       const QUOTEBANK = [
        {
            quote: "No matter what happens in life, be good to people. Being good to people is a wonderful legacy to leave behind.",
            author: "Taylor Swift"
        }, {
            quote: "Be the change that you wish to see in the world.",
            author: "Mahatma Gandhi"
        }, {
            quote: "To be yourself in a world that is constantly trying to make you something else is the greatest accomplishment.",
            author: "Ralph Waldo Emerson"
        }, {
            quote: "It does not matter how slowly you go as long as you do not stop.",
            author: "Confucius"
        }, {
            quote: "Not everything that is faced can be changed, but nothing can be changed until it is faced.",
            author: "James Baldwin"
        }, {
            quote: "Success is not final, failure is not fatal: it is the courage to continue that counts.",
            author: "Winston Churchill"
        }, {
            quote: "The only thing we have to fear is fear itself.",
            author: "Franklin D. Roosevelt"
        }, {
            quote: "It is not the mountain we conquer but ourselves.",
            author: "Sir Edmund Hillary"
        }, {
            quote: "A ship is always safe at shore but that is not what it's built for.",
            author: "Albert Einstein"
        }, {
            quote: "I am not a product of my circumstances. I am a product of my decisions.",
            author: "Stephen Covey"
        }, {
            quote: "Happiness is not something ready made. It comes from your own actions.",
            author: "Dalai Lama"
        }
       ]
    </script>

    <style>
        /* '*'' is for selecting all the text in the webpage */
        * {
            font-size: 1.3rem; 
            margin: 20px 20px 20px 20px;
            text-align: center;
        }

        #quote-box {
            display: flex;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
    </style>
</head>

<body>
    <!-- with bootsrap, you add everything in a container to format it better  -->
    <div class="container">
        <!-- change the padding to the top  -->
        <div class="row py-5">
            <div class="col-md-7 offset-md-2">
                <wrapper id="quote-box">
        
                    <!-- bootstrap format  -->
                    <div class="card">
                        <div class="card-header">
                            Random Quote Machine
                        </div>
                        <div class="card-body">
                            <h5 class="card-title"><div id="text"></div></h5>
                            <p class="card-text"><div id="author"></div></p>
                            <button id="new-quote" onclick="generateQuote()" class="btn btn-success">New Quote</button>
                            <a href=twitterLink id="tweet-quote" target="_blank" class="btn btn-primary">Tweet Quote</a>
                            <!-- target="_blank" means open in a new window  -->
                        </div>
                      </div>
                </wrapper>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
</body>
</html>
